# [1707] ì´ë¶„ ê·¸ë˜í”„

## **ğŸ“ë¬¸ì œ**

ê·¸ë˜í”„ì˜ ì •ì ì˜ ì§‘í•©ì„ ë‘˜ë¡œ ë¶„í• í•˜ì—¬, ê° ì§‘í•©ì— ì†í•œ ì •ì ë¼ë¦¬ëŠ” ì„œë¡œ ì¸ì ‘í•˜ì§€ ì•Šë„ë¡ ë¶„í• í•  ìˆ˜ ìˆì„ ë•Œ, ê·¸ëŸ¬í•œ ê·¸ë˜í”„ë¥¼ íŠ¹ë³„íˆ ì´ë¶„ ê·¸ë˜í”„ (Bipartite Graph) ë¼ ë¶€ë¥¸ë‹¤.

ê·¸ë˜í”„ê°€ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì¡Œì„ ë•Œ, ì´ ê·¸ë˜í”„ê°€ ì´ë¶„ ê·¸ë˜í”„ì¸ì§€ ì•„ë‹Œì§€ íŒë³„í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

### **ì…ë ¥**

ì…ë ¥ì€ ì—¬ëŸ¬ ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ë°, ì²«ì§¸ ì¤„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ Kê°€ ì£¼ì–´ì§„ë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²«ì§¸ ì¤„ì—ëŠ” ê·¸ë˜í”„ì˜ ì •ì ì˜ ê°œìˆ˜ Vì™€ ê°„ì„ ì˜ ê°œìˆ˜ Eê°€ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ê° ì •ì ì—ëŠ” 1ë¶€í„° Vê¹Œì§€ ì°¨ë¡€ë¡œ ë²ˆí˜¸ê°€ ë¶™ì–´ ìˆë‹¤. ì´ì–´ì„œ ë‘˜ì§¸ ì¤„ë¶€í„° Eê°œì˜ ì¤„ì— ê±¸ì³ ê°„ì„ ì— ëŒ€í•œ ì •ë³´ê°€ ì£¼ì–´ì§€ëŠ”ë°, ê° ì¤„ì— ì¸ì ‘í•œ ë‘ ì •ì ì˜ ë²ˆí˜¸ u, v (u â‰  v)ê°€ ë¹ˆ ì¹¸ì„ ì‚¬ì´ì— ë‘ê³  ì£¼ì–´ì§„ë‹¤. 

### **ì¶œë ¥**

Kê°œì˜ ì¤„ì— ê±¸ì³ ì…ë ¥ìœ¼ë¡œ ì£¼ì–´ì§„ ê·¸ë˜í”„ê°€ ì´ë¶„ ê·¸ë˜í”„ì´ë©´ YES, ì•„ë‹ˆë©´ NOë¥¼ ìˆœì„œëŒ€ë¡œ ì¶œë ¥í•œë‹¤.

**ì œí•œ**

-  2 â‰¤ K â‰¤ 5
-  1 â‰¤ V â‰¤ 20,000
-  1 â‰¤ E â‰¤ 200,000

### **ì˜ˆì œì…ì¶œë ¥**

**ì˜ˆì œ ì…ë ¥1**

```
2
3 2
1 3
2 3
4 4
1 2
2 3
3 4
4 2
```

**ì˜ˆì œ ì¶œë ¥1**

```
YES
NO
```

### **ì¶œì²˜**

https://www.acmicpc.net/problem/1707

## **ğŸ§CODE REVIEW**

### **ğŸ˜«ë‚˜ì˜ ì˜¤ë‹µ í’€ì´**

```python
import sys
sys.setrecursionlimit(10 ** 6)
input = sys.stdin.readline


def dfs(node, group):
    visited[node] = group
    for i in graph[node]:
        if visited[i] == 0:
            if not dfs(i, -group):
                return False
        elif visited[i] == visited[node]:
            return False
    return True


for _ in range(int(input())):
    node, edge = map(int, input().split())
    graph = {}
    for _ in range(edge):
        n1, n2 = map(int, input().split())
        if n1 not in graph:
            graph[n1] = [n2]
        elif n2 not in graph[n1]:
            graph[n1].append(n2)
        if n2 not in graph:
            graph[n2] = [n1]
        elif n1 not in graph[n2]:
            graph[n2].append(n1)
    visited = [0] * (node + 1)
    for i in range(1, node+1):
        if visited[i] == 0:
            bipartite = dfs(i, 1)
            if not bipartite:
                break
    print("YES" if bipartite else "NO")

```

|    ê²°ê³¼     | ë©”ëª¨ë¦¬(KB) | ì‹œê°„(ms) |  ì–¸ì–´   | ì½”ë“œ ê¸¸ì´(B) |
| :---------: | :--------: | :------: | :-----: | :----------: |
| ë©”ëª¨ë¦¬ ì´ˆê³¼ |            |          |  PyPy3  |     943      |
|  ì‹œê°„ ì´ˆê³¼  |            |          | Python3 |     943      |

~~íŒŒì´ì¬ì´ ì½”í…Œì—ì„œ ì“°ë ˆê¸°ê°™ì€ ì´ìœ ~~

#### **ğŸ“í•´ì„¤**

**ì•Œê³ ë¦¬ì¦˜**

```
dfs ì´ìš©
visitedì˜ 0ì€ ë°©ë¬¸ ì•ˆí•¨ 1, -1ì€ ê°ê° ë‹¤ë¥¸ ê·¸ë£¹ìœ¼ë¡œ í‘œí˜„
ì¸ì ‘í•œ nodeì˜ ê²½ìš° ê·¸ë£¹ê°’ì„ -í•´ì„œ í‘œí˜„
```

#### **ğŸ˜…ê°œì„ ì **

1. **dict {} ìë£Œí˜•ì„ list []ë¡œ ë³€ê²½í•˜ê¸°**

    dictionaryëŠ” hashmap ê¸°ë°˜ìœ¼ë¡œ ë˜ì–´ìˆì–´ì„œ íƒìƒ‰ì˜ ê²½ìš° ì‹œê°„ë³µì¡ë„ì—ì„œ bestëŠ” O(1)ì´ê³  worstëŠ” O(n)ì´ë¼ê³  í•œë‹¤. listì˜ ê²½ìš°ì—ëŠ” ì‚½ì…ì‚­ì œê°€ O(n)ì´ì§€ë§Œ íƒìƒ‰/ê°’ ë³€ê²½ì€ O(1)ì´ë‹¤.

### **ğŸ§¾ê°œì„ ëœ í’€ì´**

```python
import sys
sys.setrecursionlimit(10 ** 6)
input = sys.stdin.readline


def dfs(node, group):
    visited[node] = group
    for i in graph[node]:
        if visited[i] == 0:
            if not dfs(i, -group):
                return False
        elif visited[i] == visited[node]:
            return False
    return True


for _ in range(int(input())):
    node, edge = map(int, input().split())
    graph = [[] for _ in range(node+1)]
    for _ in range(edge):
        n1, n2 = map(int, input().split())
        graph[n1].append(n2)
        graph[n2].append(n1)
    visited = [0] * (node + 1)
    for i in range(1, node+1):
        if visited[i] == 0:
            bipartite = dfs(i, 1)
            if not bipartite:
                break
    print("YES" if bipartite else "NO")

```

|     ê²°ê³¼     | ë©”ëª¨ë¦¬(KB) | ì‹œê°„(ms) |   ì–¸ì–´   | ì½”ë“œ ê¸¸ì´(B) |
| :----------: | :--------: | :------: | :------: | :----------: |
| ë§ì•˜ìŠµë‹ˆë‹¤!! |   68084    |   1612   | Python 3 |     778      |

~~ì“°ë ˆê¸° ì·¨ì†Œ~~


### **ë‹¤ë¥¸ í’€ì´**

```python
import sys
input = sys.stdin.readline

def is_bipartite():
  visited = [0] * (V + 1)
  for node in range(1, V + 1):
    if not visited[node]:
      visited[node] = 1
      stack = [(node, 1)]
      while stack:
        u, c = stack.pop()
        for v in edges[u]:
          if not visited[v]:
            visited[v] = c % 2 + 1
            stack.append((v, c % 2 + 1))
          elif visited[v] == c:
            return False
  return True


for _ in range(int(input())):
  V, E = map(int, input().split())
  edges = [[] for _ in range(V + 1)]
  for _ in range(E):
    u, v = map(int, input().split())
    edges[u].append(v)
    edges[v].append(u)

  print('YES' if is_bipartite() else 'NO')

```

|    ì•„ì´ë””     | ë¬¸ì œ  |  ë¬¸ì œ ì œëª©  |     ê²°ê³¼     | ë©”ëª¨ë¦¬(KB) | ì‹œê°„(ms) | ì–¸ì–´  | ì½”ë“œ ê¸¸ì´(B) |
| :-----------: | :---: | :---------: | :----------: | :--------: | :------: | :---: | :----------: |
| joonyoung1023 | 1707  | ì´ë¶„ ê·¸ë˜í”„ | ë§ì•˜ìŠµë‹ˆë‹¤!! |   207056   |   776    | PyPy3 |     693      |

#### **ğŸ“í•´ì„¤**

```python
def is_bipartite():
  (...)
      while stack:
        u, c = stack.pop()
        for v in edges[u]:
          if not visited[v]:
            visited[v] = c % 2 + 1
            stack.append((v, c % 2 + 1))
```

visitedë¥¼ 0, 1, 2ë¡œ í‘œí˜„í•œ í’€ì´ì´ë‹¤. ìƒê´€ì€ ì—†ì§€ë§Œ 0, 1, -1ì´ ë” í¸í•œ ê²ƒ ê°™ë‹¤.

### **ğŸ”–ì •ë¦¬**

1. listì™€ dictì˜ ì‹œê°„ë³µì¡ë„ì— ëŒ€í•´ì„œ ì•Œê²Œë˜ì—ˆë‹¤.

## ğŸ“šì°¸ê³  ì‚¬ì´íŠ¸

> **[ë”¥ëŸ¬ë‹ ê³µë¶€ë°©] 1707ë²ˆ ì´ë¶„ ê·¸ë˜í”„**<br/>
https://deep-learning-study.tistory.com/581<br/>
>
>**[ë°±ì¤€ì•Œê³ ë¦¬ì¦˜] Pythonì—ì„œ dictì™€ listì˜ ì†ë„ ì°¨ì´**<br/>
https://www.acmicpc.net/board/view/56580<br/>

